((w,d)=>{const ls=w.localStorage,hc=d.documentElement.classList;(()=>{const k='gtd-color-mode',dm=w.matchMedia('(prefers-color-scheme: dark)'); let v=ls.getItem(k)||'system';if(v==='system'&&dm.matches||v==='dark'){hc.add('dark')}dm.addEventListener('change',({matches:m})=>{hc[m?'add':'remove']('dark')});w.colorMode={get value(){return v},toggle(){v=v==='dark'?'light':'dark';hc.toggle('dark'),ls.setItem(k,v)}}})()})(window,document)
