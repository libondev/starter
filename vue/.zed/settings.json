// For information on how to configure Zed, see the Zed
// documentation: https://zed.dev/docs/configuring-zed

{
  // AI 相关配置
  "auto_update_extensions": {
    "opencode": false
  },
  "git_panel": {
    "tree_view": true,
    "sort_by_path": true
  },
  "session": {
    "trust_all_worktrees": true
  },
  "agent_servers": {},
  "colorize_brackets": true,
  "context_servers": {
    "mcp-server-sequential-thinking": {
      "enabled": false,
      "settings": {}
    },
    "mcp-server-context7": {
      "enabled": false,
      "settings": {
        "context7_api_key": ""
      }
    }
  },
  "sticky_scroll": {
    "enabled": true
  },
  "fast_scroll_sensitivity": 15.0,
  "hover_popover_delay": 700,
  "linked_edits": true,
  "use_on_type_format": true,
  "bottom_dock_layout": "left_aligned",
  "collaboration_panel": {
    "dock": "right"
  },
  "agent": {
    "favorite_models": [],
    "notify_when_agent_waiting": "never",
    "default_profile": "ask",
    "always_allow_tool_actions": true,
    "use_modifier_to_send": false,
    "default_model": {
      "provider": "XiaoMI",
      "model": "mimo-v2-flash"
    }
  },
  // "edit_predictions": {
  //   "codestral": {
  //     "api_url": "https://codestral.mistral.ai/v1/fim/completions"
  //   },
  //   "mode": "eager",
  // },
  "features": {
    // "edit_prediction_provider": "codestral",
    "edit_prediction_provider": "zed"
  },
  // 快捷键方案配置
  "base_keymap": "VSCode",
  "theme": {
    "mode": "dark",
    "dark": "One Dark",
    "light": "One Light"
  },
  // UI 界面字体
  "ui_font_size": 18,
  "ui_font_family": "Inter",
  // "agent_ui_font_size": 17,
  "agent_buffer_font_size": 17,
  // 编辑器字体相关
  "buffer_font_size": 18.0,
  "buffer_font_family": "MonoLisa Nerd Font",
  // "buffer_font_family": "Berkeley Mono Variable",
  // 字体特殊功能
  "buffer_font_features": {
    "calt": true,
    "liga": true,
    "kern": true
  },
  // 退出的时候二次确认
  "confirm_quit": true,
  "diagnostics": {
    "include_warnings": true,
    "inline": {
      "enabled": true,
      // 在行内只展示 error/warning 类型的提示
      "max_severity": "warning"
    }
  },
  "scrollbar": {
    // 滚动条上不展示 git 信息
    "git_diff": false,
    // 在滚动条上只展示错误和警告，不展示 info 类型的提示
    "diagnostics": "warning"
  },
  "tabs": {
    "close_position": "left",
    "file_icons": true,
    "git_status": true
  },
  "git": {
    "git_gutter": "tracked_files",
    "inline_blame": {
      "enabled": true,
      // 500ms 后才展示提交信息
      "delay_ms": 500,
      // 展示提交信息概要
      "show_commit_summary": true
    }
  },
  // 单击可见文本区域边缘附近时是否滚动
  "autoscroll_on_clicks": true,
  // 保存的时候确保最后面有一个换行符，默认为 true
  "ensure_final_newline_on_save": true,
  // 保存的时候使用当前语言服务器，默认为 "auto"，文档见：https://zed.dev/docs/configuring-zed#formatter
  // "formatter": "language_server",
  // 始终把括号视作为自动关闭的，文档见：https://zed.dev/docs/configuring-zed#always-treat-brackets-as-autoclosed
  "always_treat_brackets_as_autoclosed": true,
  // 保存的时候删除后面的空格，默认 true
  // "remove_trailing_whitespace_on_save": true,
  // 如果当前的光标处于单行注释之中，那么按下 enter 创建的新行也默认为单行注释
  "extend_comment_on_newline": false,
  // 启用智能大小写（如果输入的内容中包含大写则只匹配大写，否则忽略大小写）
  "use_smartcase_search": true,
  // 默认搜索配置
  "search": {
    // 搜索内容区分大小写
    "case_sensitive": true
  },
  // 搜索的时候默认的搜索内容，默认为 always
  // always 则使用当前光标位置的文本作为搜索内容，selection 则只有选中，none 则不使用任何内容
  "seed_search_query_from_cursor": "selection",
  // 软换行：超过编辑器宽度的内容自动换到下一行展示
  // "soft_wrap": "editor_width",
  "tab_size": 2,
  // 手动指定什么某些文件后缀名解析为什么语言的高亮格式
  "file_types": {
    "csharp": ["*.cshtml"],
    "properties": ["*.toml", ".env.*"],
    "jsonc": ["*.json"],
    "markdown": ["*.mdx"],
    "TOML": [".editorconfig", ".npmrc"],
    "Plain Text": [".gitignore"],
    "HTML": ["*.svg", "*.xml"]
  },
  // 内联提示信息
  "inlay_hints": {
    "enabled": false,
    "show_type_hints": true,
    "show_parameter_hints": true,
    "show_other_hints": true,
    "show_background": false,
    "edit_debounce_ms": 700,
    "scroll_debounce_ms": 50,
    "toggle_on_modifiers_press": null
  },
  "windows": {
    "terminal": {
      // "font_family": "MonoLisa",
      // "font_weight": 330,
      "font_size": 18,
      "shell": {
        "program": "D:\\Git\\bin\\bash.exe"
      },
      "working_directory": "current_project_directory"
    }
  },
  "code_actions_on_format": {
    "source.fixAll.oxc": true,
    "source.fixAll.eslint": false,
    "source.organizeImports": false
  },
  "format_on_save": "on",
  "formatter": {
    "language_server": {
      "name": "oxc"
    }
  },
  "languages": {
    "CSS": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ],
      "language_servers": ["tailwindcss-intellisense-css", "!vscode-css-language-server"]
    },
    "HTML": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "JavaScript": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        },
        {
          "code_action": "source.fixAll.oxc"
        }
      ]
    },
    "TSX": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "JSON": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "JSONC": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "Markdown": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "SCSS": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "TypeScript": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "Vue.js": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    },
    "YAML": {
      "format_on_save": "on",
      "prettier": {
        "allowed": false
      },
      "formatter": [
        {
          "language_server": {
            "name": "oxfmt"
          }
        }
      ]
    }
  },
  "lsp": {
    "oxlint": {
      "initialization_options": {
        "settings": {
          "configPath": "./.oxlintrc.json",
          "run": "onType",
          "disableNestedConfig": false,
          "fixKind": "safe_fix",
          "typeAware": true,
          "unusedDisableDirectives": "deny"
        }
      }
    },
    "oxfmt": {
      "initialization_options": {
        "settings": {
          "configPath": "./.oxfmtrc.json"
        }
      }
    },
    "tailwindcss-language-server": {
      "settings": {
        "lint": {
          // "suggestCanonicalClasses": "error",
        }
      }
    }
  },
  "language_models": {
    "openai_compatible": {
      "QiNiu": {
        "api_url": "https://api.qnaigc.com/v1",
        "available_models": [
          {
            "name": "openai/gpt-5",
            "max_tokens": 200000,
            "max_output_tokens": 32000,
            "max_completion_tokens": 200000,
            "capabilities": {
              "tools": true,
              "images": false,
              "parallel_tool_calls": false,
              "prompt_cache_key": false
            }
          },
          {
            "name": "claude-4.5-opus",
            "max_tokens": 200000,
            "max_output_tokens": 32000,
            "max_completion_tokens": 200000,
            "capabilities": {
              "tools": true,
              "images": false,
              "parallel_tool_calls": false,
              "prompt_cache_key": false
            }
          },
          {
            "name": "claude-4.5-sonnet",
            "max_tokens": 200000,
            "max_output_tokens": 32000,
            "max_completion_tokens": 200000,
            "capabilities": {
              "tools": true,
              "images": false,
              "parallel_tool_calls": false,
              "prompt_cache_key": false
            }
          },
          {
            "name": "mimo-v2-flash",
            "max_tokens": 256000,
            "max_output_tokens": 32000,
            "max_completion_tokens": 256000,
            "capabilities": {
              "tools": true,
              "images": false,
              "parallel_tool_calls": false,
              "prompt_cache_key": false
            }
          }
        ]
      },
      "XiaoMI": {
        "api_url": "https://api.xiaomimimo.com/v1",
        "available_models": [
          {
            "name": "mimo-v2-flash",
            "max_tokens": 256000,
            "max_output_tokens": 32000,
            "max_completion_tokens": 256000,
            "capabilities": {
              "tools": true,
              "images": false,
              "parallel_tool_calls": false,
              "prompt_cache_key": false
            }
          }
        ]
      }
    }
  },
  "experimental.theme_overrides": {
    "syntax": {
      "comment": {
        "color": "#7F848E"
        // "font_weight": 400
      }
    }
  }
}
